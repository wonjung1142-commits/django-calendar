<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <title>Calendar</title>

  <script src="https://cdn.jsdelivr.net/npm/fullcalendar/index.global.min.js"></script>
</head>
<body>

  <div id="calendar"></div>

  <script>
    document.addEventListener('DOMContentLoaded', function () {
      const calendarEl = document.getElementById('calendar');

      const calendar = new FullCalendar.Calendar(calendarEl, {
        initialView: 'dayGridMonth',
        locale: 'ko',

        /* 이벤트 데이터 */
        events: '/events/',

        /* 날짜 클릭 → 신규 신청 */
        dateClick: function (info) {
          window.location.href = `/apply/?date=${info.dateStr}`;
        },

        /* 이벤트 클릭 → 수정 페이지로 바로 이동 */
        eventClick: function (info) {
          const eventId = info.event.id;
          window.location.href = `/apply/?edit=${eventId}`;
        }
      });

      calendar.render();
    });
  </script>

</body>
</html>
